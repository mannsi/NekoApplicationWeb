@using System.Threading.Tasks
@using NekoApplicationWeb.ViewModels
@using NekoApplicationWeb.ViewModels.Page
@using Newtonsoft.Json

@model List<NekoApplicationWeb.ViewModels.Page.Employment.ApplicantEmployment>

<div class="row" ng-app="app-neko" ng-controller="employmentPageController as vm" ng-init="vm.initData(@JsonConvert.SerializeObject(Model))" ng-cloak>
    <form name="employmentForm" class="form-horizontal" action="" method="post">
        <fieldset ng-repeat="applicantEmployment in vm.applicantsEmployment">
            <div class="col-xs-12">
                <legend><span ng-bind="applicantEmployment.ApplicantName"></span> - Núverandi starf</legend>
            </div>
            <div asp-validation-summary="ValidationSummary.ModelOnly" class="text-danger"></div>

            <div class="form-group required">
                <label class="col-xs-4 control-label">Titill</label>
                <div class="col-xs-8">
                    <input class="form-control" ng-model="applicantEmployment.Title" required ng-change="vm.pageModified = true" />
                </div>
            </div>
            <div class="form-group required">
                <label class="col-xs-4 control-label">Fyrirtæki</label>
                <div class="col-xs-8">
                    <input class="form-control" ng-model="applicantEmployment.CompanyName" required ng-change="vm.pageModified = true" />
                </div>
            </div>
            <div class="form-group required">
                <label class="col-xs-4 control-label">Frá</label>
                <div class="col-xs-8">
                    <input type="date" class="form-control" ng-model="applicantEmployment.From" required ng-change="vm.pageModified = true"/>
                </div>
            </div>
            <div class="form-group">
                <label class="col-xs-4 control-label">LinkedIn slóð <i class="fa fa-linkedin-square" aria-hidden="true"></i></label>
                <div class="col-xs-8">
                    <input class="form-control" ng-model="applicantEmployment.LinkedInPath" ng-change="vm.pageModified = true"/>
                </div>
            </div>

            <div class="form-group">
                <label class="col-xs-4 control-label">Ferilskrá</label>

                <div class="col-xs-8">
                    <div class="fileinput fileinput-new input-group" data-provides="fileinput">
                        <div class="form-control" data-trigger="fileinput">
                            <i class="glyphicon glyphicon-file fileinput-exists"></i>
                            <span class="fileinput-filename"></span>
                        </div>
                        <span class="input-group-addon btn btn-file">
                            <span class="fileinput-new">Velja skrá</span>
                            <input type="file" ng-model="applicantEmployment.Cv">
                        </span>
                        <a href="#" class="input-group-addon btn fileinput-exists" data-dismiss="fileinput">Fjarlægja</a>
                    </div>
                </div>
            </div>
        </fieldset>
        <div class="col-lg-12">
            <button class="btn btn-info pull-right" ng-click="vm.continue()" ng-disabled="employmentForm.$invalid">
                Vista og áfram <i class="fa fa-arrow-right" aria-hidden="true"></i>
            </button>
        </div>
    </form>
</div>