function setActivePill(){var e=$("#selectedNavPillId").attr("selectedNavPillId");$(".nav-pills>li").each(function(){var n=$(this).attr("id");n===e&&($(this).addClass("active"),$(this).children("a:first").children("i:first").remove())})}function updateProgressBar(){var e=$(".nav-pills>li>a>i.fa-check-circle").length,n=$(".nav-pills>li>a>i.fa-minus-circle").length,i=e+n,t=e/i*100+"%";$("#pillProgressBar").css("width",t),$("#pillProgressBar").text(e+"/"+i)}function setCurrencyNumber(e){var n=$(e).val(),i=n.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.");$(e).val(i)}function unformatCurrencyNumber(e){var n=$(e).val(),i=n.replace(/\./g,"");$(e).val(i)}!function(){"use strict";angular.module("app-neko",["ngMask"])}()(function(){"use strict";function e(e){function n(){$(window).on("beforeunload",function(){return t.pageModified?"You have unsaved changes. Are you sure you wish to continue ?":void(t.pageModified=!1)})}function i(){for(var e=0;e<t.applicants.length;e++)t.applicants[e].Legend=0===e?"Umsækjandi":"Umsækjandi "+(e+1)}var t=this;t.applicants=[],t.pageModified=!1,t.initData=function(e){angular.copy(e,t.applicants),i()},t.addApplicant=function(){e.get("/api/applicant/new").then(function(e){t.applicants.push(e.data),t.pageModified=!0,i()},function(e){})},t.removeApplicant=function(e){for(var n=-1,o=0;o<t.applicants.length;o++)if(t.applicants[o]===e){n=o;break}n>=0&&t.applicants.splice(n,1),t.pageModified=!0,i()},t["continue"]=function(){t.pageModified=!1,e.post("/api/applicant/list",t.applicants).then(function(e){window.location.href="Menntun"},function(e){t.pageModified=!0,alert("Ekki tókst að vista. Villa: "+e)})},n()}function n(e){function n(){$(window).on("beforeunload",function(){return i.pageModified?"You have unsaved changes. Are you sure you wish to continue ?":void(i.pageModified=!1)})}var i=this;i.applicantsDegrees=[],i.pageModified=!1,i.initData=function(e){for(var n=0;n<e.length;n++)for(var t=e[n],o=0;o<t.Degrees.length;o++){var a=t.Degrees[o];a.DateFinished=new Date(a.DateFinished)}angular.copy(e,i.applicantsDegrees)},i.addDegree=function(n){e.get("/api/degree/new").then(function(e){e.data.DateFinished=new Date(e.data.DateFinished),n.Degrees.push(e.data),i.pageModified=!0},function(e){})},i.removeDegree=function(e,n){for(var t=-1,o=0;o<e.Degrees.length;o++)n===e.Degrees[o]&&(t=o);t>0&&(e.Degrees.splice(t,1),i.pageModified=!0)},i["continue"]=function(){i.pageModified=!1,e.post("/api/degree/list",i.applicantsDegrees).then(function(e){window.location.href="Starfsferill"},function(e){i.pageModified=!0,alert("Ekki tókst að vista. Villa: "+e)})},n()}function i(e){function n(){$(window).on("beforeunload",function(){return i.pageModified?"You have unsaved changes. Are you sure you wish to continue ?":void(i.pageModified=!1)})}var i=this;i.applicantsEmployment=[],i.pageModified=!1,i.initData=function(e){for(var n=0;n<e.length;n++)e[n].From=new Date(e[n].From);angular.copy(e,i.applicantsEmployment)},i["continue"]=function(){i.pageModified=!1,e.post("/api/employment/list",i.applicantsEmployment).then(function(e){window.location.href="Fjarmal"},function(e){i.pageModified=!0,alert("Ekki tókst að vista. Villa: "+e)})},n()}function t(e){function n(){$(window).on("beforeunload",function(){return i.pageModified?"You have unsaved changes. Are you sure you wish to continue ?":void(i.pageModified=!1)})}var i=this;i.applicantsFinances=[],i.pageModified=!1,i.initData=function(e){angular.copy(e,i.applicantsFinances)},i.addOtherIncome=function(e){var n=$("#otherIncomeSelect").val(),t=$("#otherIncomeSelect option:selected").text();""!==t&&e.OtherIcome.push({MonthlyAmount:0,IncomeType:n,IncomeTypeString:t}),i.pageModified=!0},i.removeOtherIncome=function(e,n){for(var t=0;t<e.length;t++)if(e[t]===n){e.splice(t,1);break}i.pageModified=!0},i.addAsset=function(e){var n=$("#assetsTypeSelect").val(),t=$("#assetsTypeSelect option:selected").text();""!==t&&e.Assets.push({AssetType:n,AssetTypeString:t}),i.pageModified=!0},i.removeAsset=function(e,n){for(var t=0;t<e.length;t++)if(e[t]===n){e.splice(t,1);break}i.pageModified=!0},i.addDebt=function(e){var n=$("#debtTypeSelect").val(),t=$("#debtTypeSelect option:selected").text();""!==t&&e.Debts.push({DebtType:n,DebtTypeString:t}),i.pageModified=!0},i.removeDebt=function(e,n){for(var t=0;t<e.length;t++)if(e[t]===n){e.splice(t,1);break}i.pageModified=!0},i["continue"]=function(){i.pageModified=!1,e.post("/api/finances/list",i.applicantsFinances).then(function(e){window.location.href="Lanveiting"},function(e){i.pageModified=!0,alert("Ekki tókst að vista. Villa: "+e)})},n()}function o(e){function n(){$(window).on("beforeunload",function(){return i.pageModified?"You have unsaved changes. Are you sure you wish to continue ?":void(i.pageModified=!1)})}var i=this;i.loanViewModel={},i.pageModified=!1,i.initData=function(e){angular.copy(e,i.loanViewModel)},i.addBankLoan=function(){e.get("/api/loan/new").then(function(e){i.loanViewModel.BankLoans.push(e.data),i.pageModified=!0},function(e){})},i.removeBankLoan=function(e){for(var n=0;n<i.loanViewModel.BankLoans.length;n++)if(e===i.loanViewModel.BankLoans[n]){i.loanViewModel.BankLoans.splice(n,1),i.pageModified=!0;break}},i["continue"]=function(){i.pageModified=!1,e.post("/api/loan",i.loanViewModel).then(function(e){window.location.href="Fylgiskjol"},function(e){i.pageModified=!0,alert("Ekki tókst að vista. Villa: "+e)})},n()}angular.module("app-neko").controller("personalPageController",e).controller("educationPageController",n).controller("employmentPageController",i).controller("financesPageController",t).controller("loanPageController",o)})()(function(){})()(function(){})()(function(){})()(function(){$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip()})})()(function(){})()(function(){})()(function(){})(),$(document).ready(function(){setActivePill(),updateProgressBar(),$(".currencyInput").focusout(function(){setCurrencyNumber(this)}),$(".currencyInput").focus(function(){unformatCurrencyNumber(this)}),$(".currencyInput").each(function(){setCurrencyNumber(this)})});